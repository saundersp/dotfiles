# i3 config file (v4)

# Super key
set $mod Mod4
# Left alt key
set $alt Mod1

# Font for window titles
set_from_resource $font i3wm.font 'DejaVu Sans Mono 10'
font pango:$font
# Center the title of windows
title_align center
# Remove windows borders
default_border none
# Loading from .Xresources, otherwise fallback to default values
set_from_resource $cf-border        i3wm.cf.border        #4c7899
set_from_resource $cf-backgr        i3wm.cf.backgr        #285577
set_from_resource $cf-text          i3wm.cf.text          #fff
set_from_resource $cf-indicator     i3wm.cf.indicator     #2e9ef4
set_from_resource $cf-child_border  i3wm.cf.child_border  #285577

set_from_resource $cfi-border       i3wm.cfi.border       #333
set_from_resource $cfi-backgr       i3wm.cfi.backgr       #5f676a
set_from_resource $cfi-text         i3wm.cfi.text         #fff
set_from_resource $cfi-indicator    i3wm.cfi.indicator    #48450
set_from_resource $cfi-child_border i3wm.cfi.child_border #5f676a

set_from_resource $cun-border       i3wm.cun.border       #333
set_from_resource $cun-backgr       i3wm.cun.backgr       #222
set_from_resource $cun-text         i3wm.cun.text         #888
set_from_resource $cun-indicator    i3wm.cun.indicator    #292d2e
set_from_resource $cun-child_border i3wm.cun.child_border #222

set_from_resource $cur-border       i3wm.cur.border       #2f343a
set_from_resource $cur-backgr       i3wm.cur.backgr       #900
set_from_resource $cur-text         i3wm.cur.text         #fff
set_from_resource $cur-indicator    i3wm.cur.indicator    #900
set_from_resource $cur-child_border i3wm.cur.child_border #900

set_from_resource $cp-border        i3wm.cp.border        #000
set_from_resource $cp-backgr        i3wm.cp.backgr        #0c0c0c
set_from_resource $cp-text          i3wm.cp.text          #fff
set_from_resource $cp-indicator     i3wm.cp.indicator     #000
set_from_resource $cp-child_border  i3wm.cp.child_border  #0c0c0c

set_from_resource $background       i3wm.background       #fff

# Windows colours
client.focused          $cf-border  $cf-backgr  $cf-text  $cf-indicator  $cf-child_border
client.focused_inactive $cfi-border $cfi-backgr $cfi-text $cfi-indicator $cfi-child_border
client.unfocused        $cun-border $cun-backgr $cun-text $cun-indicator $cun-child_border
client.urgent           $cur-border $cur-backgr $cur-text $cur-indicator $cur-child_border
client.placeholder      $cp-border  $cp-backgr  $cp-text  $cp-indicator  $cp-child_border

client.background       $background

# Use pactl to adjust volume in PulseAudio.
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle

# Brightness control
bindsym XF86MonBrightnessDown exec --no-startup-id sudo brightnessctl set 1%-
bindsym XF86MonBrightnessUp exec --no-startup-id sudo brightnessctl set +1%

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec --no-startup-id st

# kill focused window
bindsym $mod+Shift+q kill
bindsym $alt+F4 kill

# start dmenu (a program launcher)
bindsym $mod+d exec --no-startup-id dmenu_run

# Start polybar
exec_always --no-startup-id $XDG_CONFIG_HOME/polybar/launch.sh

# toggle the display of polybar
bindsym $mod+b exec --no-startup-id polybar-msg -p $(pgrep polybar) cmd toggle


# Screenshot button
bindsym --release Print exec --no-startup-id "FILENAME=$(date +%H%M%S%d%m%Y); import /tmp/$FILENAME-screenshot.png; feh -d /tmp/$FILENAME-screenshot.png"

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+e layout toggle split

# Gaps
set_from_resource $inner_gaps i3wm.inner-gaps 0
set_from_resource $outer_gaps i3wm.outer-gaps 0
gaps inner $inner_gaps
gaps outer $outer_gaps

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# switch to workspace
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
# bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"
bindsym $mod+Shift+e exec --no-startup-id i3-msg exit

# resize window (you can also use the mouse for that)
mode "Resize" {
	# These bindings trigger as soon as you enter the resize mode

	# Pressing left will shrink the window’s width.
	# Pressing right will grow the window’s width.
	# Pressing up will shrink the window’s height.
	# Pressing down will grow the window’s height.
	bindsym l resize shrink width 1 px or 1 ppt
	bindsym j resize grow height 1 px or 1 ppt
	bindsym k resize shrink height 1 px or 1 ppt
	bindsym h resize grow width 1 px or 1 ppt

	# same bindings, but for the arrow keys
	bindsym Right resize shrink width 1 px or 1 ppt
	bindsym Down resize grow height 1 px or 1 ppt
	bindsym Up resize shrink height 1 px or 1 ppt
	bindsym Left resize grow width 1 px or 1 ppt

	# Resizing gaps
	bindsym 0 gaps inner all set 0
	bindsym Shift+0 gaps outer all set 0
	bindsym parenright gaps inner all set $inner_gaps
	bindsym Shift+parenright gaps outer all set $outer_gaps
	bindsym minus gaps inner all minus 5
	bindsym plus gaps inner all plus 5
	bindsym Shift+minus gaps outer all minus 5
	bindsym Shift+plus gaps outer all plus 5

	# back to normal
	bindsym Escape mode "default"
}

bindsym $mod+r mode "Resize"
